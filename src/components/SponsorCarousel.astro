---
// Determinar el idioma basado en la URL
const { pathname } = Astro.url;
const isSpanish = pathname.startsWith("/es/");

// Lista de patrocinadores principales
const sponsors = [
  {
    name: "Universidad Nacional de Colombia",
    logo: "/images/website/UNAL.png",
    url: "https://unal.edu.co/",
    logoClass: "unal-logo",
  },
  // Aquí se pueden añadir más patrocinadores en el futuro
];

// URL alternativa como respaldo
const alternativeLogoUrl =
  "https://unal.edu.co/typo3conf/ext/unal_skin_default/Resources/Public/images/escudoUnal.svg";
---

<!-- Sección de instituciones de confianza que ocupa todo el ancho de la pantalla -->
<section class="trusted-section-wrapper">
  <div class="trusted-section">
    <div class="content-container">
      <h3 class="trusted-title">
        {isSpanish ? "Con el apoyo de" : "Supported by"}
      </h3>
      <div class="sponsors-container">
        {
          /* Mostramos solo el logo principal sin texto ni decoración */
          sponsors.map((sponsor) => (
            <a
              href={sponsor.url}
              target="_blank"
              rel="noopener"
              class="sponsor-link-clean"
              aria-label={`Visit ${sponsor.name} website`}
            >
              <img
                src={sponsor.logo}
                alt={sponsor.name}
                class="sponsor-logo-clean"
                width="180"
                onerror={`this.onerror=null; this.src='${alternativeLogoUrl}';`}
              />
            </a>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  /* Estilos para la sección de instituciones de confianza */
  .trusted-section-wrapper {
    width: 100%;
    background-color: #0a1930; /* Azul oscuro casi negro */
    padding: 0;
    margin: 3rem 0;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  }

  .trusted-section {
    width: 100%;
    padding: 3rem 0;
  }

  .content-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .trusted-title {
    font-size: 1.2rem;
    margin-bottom: 1.5rem;
    /* Texto claro para contrastar con fondo oscuro */
    color: rgba(255, 255, 255, 0.85);
    font-weight: 500;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .sponsors-container {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 2rem;
    margin-top: 1.5rem;
  }

  /* Estilo minimalista sin cuadro ni decoración */
  .sponsor-link-clean {
    display: inline-block;
    transition: transform 0.3s ease;
    text-decoration: none;
    margin: 0 20px;
  }

  .sponsor-link-clean:hover {
    transform: translateY(-5px);
  }

  .sponsor-logo-clean {
    height: 110px;
    max-width: 280px;
    object-fit: contain;
    opacity: 0.95;
    transition:
      opacity 0.3s ease,
      transform 0.3s ease;
    filter: brightness(1.1); /* Ajustamos el brillo para destacar el blanco */
  }

  .sponsor-logo-clean:hover {
    transform: scale(1.05);
    opacity: 1;
  }

  @media (max-width: 768px) {
    .sponsor-link {
      padding: 15px 20px;
      min-width: 180px;
    }

    .sponsor-logo {
      height: 70px;
      max-width: 180px;
    }

    .unal-logo {
      height: 80px !important;
    }

    .trusted-title {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
    }
  }
</style>
